(this.webpackJsonpsimple_compiler=this.webpackJsonpsimple_compiler||[]).push([[0],{101:function(e,t,n){},143:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),l=n(26),s=n.n(l),a=(n(85),n(21)),c=(n(86),n(87),n(88),n(89),n(42)),o=n.n(c),u=n(4),h=n(28),d=n(30),b=(n(97),n(11)),p=n.n(b),f=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).$rules={start:[{token:"keyword",regex:"(f|i|p)"},{token:"constant.language.boolean",regex:/([a-e]|[g-h]|[j-o]|[q-z]){1}/},{token:"constant.numeric",regex:/[0-9]+\.[0-9]+/},{token:"constant.numeric",regex:/[0-9]+/},{token:"string",regex:/(=|\+|-){1}/}]},e}return n}(p.a.require("ace/mode/text_highlight_rules").TextHighlightRules),v=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).HighlightRules=f,e}return n}(p.a.require("ace/mode/java").Mode),m=(n(98),n(99),n(1));var j=function(e){var t=i.a.useRef(null);return i.a.useEffect((function(){var e=new v;null!=t.current&&t.current.editor.getSession().setMode(e)})),Object(m.jsx)("div",{className:"CodeEditor",children:Object(m.jsx)(o.a,{ref:t,placeholder:"Please enter your code! :)",mode:"javascript",theme:"monokai",value:e.code,onChange:function(t){return e.setCode(t)},name:"editor",editorProps:{$blockScrolling:!0},height:"100%",width:"100%"})})},y=(n(101),n(5)),x={draggable:!0,edge:"left"};var g=function(e){return Object(m.jsxs)(y.Navbar,{alignLinks:"right",brand:Object(m.jsx)("a",{href:"#",children:"Simple Addition Calculator"}),menuIcon:Object(m.jsx)(y.Icon,{children:"menu"}),options:x,className:"Navbar",children:[Object(m.jsx)(y.NavItem,{href:"#",onClick:e.exec,children:Object(m.jsx)(y.Icon,{children:"refresh"})}),Object(m.jsxs)(y.NavItem,{href:"#",children:[Object(m.jsx)("input",{type:"file",onChange:e.uploadCode,id:"file_upload"}),Object(m.jsx)("label",{htmlFor:"file_upload",children:Object(m.jsx)(y.Icon,{children:"cloud_upload"})})]})]})},k=(n(143),n(9)),O=(n(145),{k:1,x:0,y:40}),T=k.a().on("drag",(function(e){var t=2e3*O.k;O.x<t&&O.x>-t||O.x>=t&&e.dx<0||O.x<=-t&&e.dx>0?O.x+=e.dx:O.x=O.x>0?t:-t,O.y<t&&O.y>-t||O.y>=t&&e.dy<0||O.y<=-t&&e.dy>0?O.y+=e.dy:O.y=O.y>0?t:-t,k.c(this).attr("transform","translate("+O.x+","+O.y+") scale("+O.k+")")})),w=k.e().on("zoom",(function(e){var t=e.transform;O.k=t.k,k.c(this).attr("transform","translate("+O.x+","+O.y+") scale("+O.k+")")}));var S=function(e){var t=i.a.useRef(null);return i.a.useEffect((function(){O={k:1,x:0,y:40};var n=40,r=0,i=k.b(e.tree),l={x:i.height*e.rate,y:i.height*e.rate/1.8},s=k.d().size([l.x,l.y])(i);if(null!=t.current){for(var a=0;a<t.current.children.length;a++)t.current.removeChild(t.current.children[a]);var c=k.c(t.current).append("svg").attr("width","100%").attr("height","100%").append("g").attr("transform","translate("+r+","+n+")").attr("cursor","grab");c.append("rect").attr("x","-2000").attr("y","-2000").attr("width","5000").attr("height","5000").attr("fill","#fafafa").attr("stroke","black"),c.selectAll(".link").data(s.descendants().slice(1)).enter().append("path").attr("class","link").attr("d",(function(e){return"M"+e.x+","+e.y+"L"+e.parent.x+","+e.parent.y}));var o=c.selectAll(".node").data(s.descendants()).enter().append("g").attr("class",(function(e){return"node"+(e.children?" node--internal":" node--leaf")})).attr("transform",(function(e){return"translate("+e.x+","+e.y+")"}));o.append("circle").attr("r",12),o.append("text").attr("dy",".35em").attr("y",(function(e){return e.children?-20:20})).style("text-anchor","middle").text((function(e){return e.data.name})),T(c),w(c)}})),Object(m.jsx)("div",{ref:t,style:{height:"100%"}})};var N=function(e){return Object(m.jsxs)(y.Collection,{children:[e.errorTable.errors.map((function(e){return Object(m.jsxs)(y.CollectionItem,{children:[Object(m.jsx)("span",{className:"title",children:Object(m.jsx)("b",{children:e.message})}),Object(m.jsxs)("p",{style:{margin:0},children:[Object(m.jsx)("b",{children:"Line: "})," ",e.token.line,Object(m.jsx)("br",{}),Object(m.jsx)("b",{children:"Start: "})," ",e.token.start,Object(m.jsx)("br",{}),Object(m.jsx)("b",{children:"Value: "})," ",e.token.data]})]},e.message)})),0==e.errorTable.length&&Object(m.jsx)(y.CollectionItem,{children:Object(m.jsx)("span",{className:"title",children:Object(m.jsx)("b",{children:"No errors!"})})})]})};var D,C=function(e){var t=function(e){return JSON.stringify(e,null,2)},n=e.compiler.errorTable,r=e.compiler.symbolTable,i=e.compiler.parser.parseTree,l=e.compiler.parser.ast,s={swipeable:!1,duration:300,onShow:function(){},responsiveThreshold:1/0};if(null!=n&&null!=r){var a=0!=n.length;return Object(m.jsx)("div",{className:"row OutputViewer",children:Object(m.jsx)("div",{className:"col s12",style:{padding:0,margin:0},children:Object(m.jsxs)(y.Tabs,{options:s,children:[Object(m.jsx)(y.Tab,{title:"Error/warnings",children:Object(m.jsx)(N,{errorTable:n})}),Object(m.jsx)(y.Tab,{title:"Symbol table",disabled:a,children:Object(m.jsx)("pre",{children:t(r)})}),Object(m.jsx)(y.Tab,{title:"Parse Tree JSON",disabled:a,children:!a&&Object(m.jsx)("pre",{children:t(i)})}),Object(m.jsx)(y.Tab,{title:"Parse Tree Viewer",disabled:a,idx:"asdf",children:!a&&Object(m.jsx)(S,{tree:i,rate:150})}),Object(m.jsx)(y.Tab,{title:"AST JSON",disabled:a,children:!a&&Object(m.jsx)("pre",{children:t(l)})}),Object(m.jsx)(y.Tab,{title:"AST Viewer",disabled:a,idx:"asdf",children:!a&&Object(m.jsx)(S,{tree:l,rate:200})})]})})})}return Object(m.jsx)("div",{className:"row OutputViewer",children:Object(m.jsx)("div",{className:"col s12",style:{padding:0,margin:0},children:Object(m.jsx)(y.Tabs,{options:s,children:Object(m.jsx)(y.Tab,{title:"Instructions",children:"Code to the left, execute on the top, output in this tabs"})})})})},E=n(7);!function(e){e[e.floatdcl=0]="floatdcl",e[e.intdcl=1]="intdcl",e[e.print=2]="print",e[e.id=3]="id",e[e.assign=4]="assign",e[e.plus=5]="plus",e[e.minus=6]="minus",e[e.inum=7]="inum",e[e.fnum=8]="fnum",e[e.blank=9]="blank",e[e.error=10]="error",e[e.newline=11]="newline",e[e.eof=12]="eof"}(D||(D={}));var I,P=D,V=function(){function e(t,n,r,i,l){Object(u.a)(this,e),this.type=void 0,this.data=void 0,this.start=void 0,this.end=void 0,this.line=void 0,this.type=t,this.data=n,this.start=r,this.end=i,this.line=l}return Object(E.a)(e,[{key:"toString",value:function(){return"Token {type: ".concat(P[this.type]," data: ").concat(this.data," start: ").concat(this.start," end: ").concat(this.end," line: ").concat(this.line,"}")}}]),e}();!function(e){e[e.float=0]="float",e[e.int=1]="int"}(I||(I={}));var A,F=function e(t,n,r){Object(u.a)(this,e),this.name=void 0,this.type=void 0,this.declaration=void 0,this.name=t,this.type=n,this.declaration=r},L=function(){function e(){Object(u.a)(this,e),this.data={},this.length=0}return Object(E.a)(e,[{key:"addValue",value:function(e,t){this.data[e]=t,this.length+=1}},{key:"add",value:function(e,t,n){this.data[e]=new F(e,t,n),this.length+=1}},{key:"get",value:function(e){return this.data[e]}}]),e}();!function(e){e[e.Prog=0]="Prog",e[e.Dcls=1]="Dcls",e[e.Dcl=2]="Dcl",e[e.Stmts=3]="Stmts",e[e.Stmt=4]="Stmt",e[e.Expr=5]="Expr",e[e.Val=6]="Val",e[e.empty=7]="empty"}(A||(A={}));var _,z=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(u.a)(this,e),this.name=void 0,this.token=void 0,this.symbol=void 0,this.children=[],this.name=t,this.token=n,this.symbol=r},J=function(){function e(t,n,r){Object(u.a)(this,e),this.input=void 0,this.currentToken=void 0,this.symbolTable=void 0,this.errorTable=void 0,this.input=t.reverse(),this.currentToken=this.input.pop()||new V(P.eof,"",0,0,0),this.symbolTable=n,this.errorTable=r}return Object(E.a)(e,[{key:"checkIfDeclaration",value:function(e){var t=this.currentToken.data,n=this.symbolTable.get(t);n?this.errorTable.add(this.currentToken,"The id ".concat(t," was already declared in line ").concat(n.declaration.line," position: ").concat(n.declaration.start)):this.symbolTable.add(t,e,{line:this.currentToken.line,start:this.currentToken.start})}},{key:"next",value:function(){this.currentToken=this.input.pop()}},{key:"accept",value:function(e){if(this.currentToken&&this.currentToken.type==e){var t=new z(P[e],this.currentToken);return t.children.push(new z(this.currentToken.data)),this.next(),t}return null}},{key:"error",value:function(e){this.errorTable.add(this.currentToken,e+" but got: "+this.currentToken.data)}},{key:"expect",value:function(e){var t=this.accept(e);return null!=t?t:(this.error("Expecting token: "+P[e]),null)}},{key:"run",value:function(){return this.prog()}},{key:"prog",value:function(){var e=this.dcls(),t=this.stmts();this.expect(P.eof);var n=new z("Prog",null,A.Prog);return n.children.push(e,t,new z("$")),n}},{key:"dcls",value:function(){var e=this.dcl();if(null==e)return new z("\u03bb",null,A.empty);var t=this.dcls(),n=new z("Dcls",null,A.Dcls);return n.children.push(e,t),n}},{key:"dcl",value:function(){var e=new z("Dcl",null,A.Dcl),t=this.accept(P.floatdcl);if(null!=t){this.checkIfDeclaration(I.float);var n=this.expect(P.id);return null==n?null:(e.children.push(t,n),e)}if(null!=(t=this.accept(P.intdcl))){this.checkIfDeclaration(I.int);var r=this.expect(P.id);return null==r?null:(e.children.push(t,r),e)}return null}},{key:"stmts",value:function(){var e=this.stmt();if(null==e)return new z("\u03bb",null,A.empty);var t=this.stmts(),n=new z("Stmts",null,A.Stmts);return n.children.push(e,t),n}},{key:"stmt",value:function(){var e=new z("Stmt",null,A.Stmt),t=this.accept(P.id);if(null!=t){var n=this.expect(P.assign);if(null==n)return null;var r=this.expr();return null==r?null:(e.children.push(t,n,r),e)}var i=this.accept(P.print);if(null!=i){var l=this.expect(P.id);return null==l?null:(e.children.push(i,l),e)}return null}},{key:"val",value:function(){var e=this.accept(P.id),t=this.accept(P.inum),n=this.accept(P.fnum),r=new z("Val",null,A.Val);return null!=e?(r.children.push(e),r):null!=t?(r.children.push(t),r):null!=n?(r.children.push(n),r):(this.error("Expecting a value (id, integer, float)"),null)}},{key:"expr",value:function(){var e=new z("Expr",null,A.Expr),t=this.val();if(null==t)return null;var n=this.accept(P.plus),r=this.accept(P.minus);return null!=n?(e.children.push(t,n,this.expr()),e):null!=r?(e.children.push(t,r,this.expr()),e):(e.children.push(t),e)}}]),e}();!function(e){e[e.program=0]="program",e[e.floatdcl=1]="floatdcl",e[e.intdcl=2]="intdcl",e[e.assign=3]="assign",e[e.plus=4]="plus",e[e.minus=5]="minus",e[e.print=6]="print",e[e.id=7]="id",e[e.inum=8]="inum",e[e.fnum=9]="fnum",e[e.int2float=10]="int2float",e[e.error=11]="error"}(_||(_={}));var M=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(u.a)(this,e),this.type=void 0,this.value=void 0,this.name=void 0,this.children=[],this.type=t,this.value=n,this.name=_[t]+" -> "+n},R=function(){function e(t,n,r){Object(u.a)(this,e),this.input=void 0,this.symbolTable=void 0,this.errorTable=void 0,this.input=t,this.symbolTable=n,this.errorTable=r}return Object(E.a)(e,[{key:"run",value:function(){var e=new M(_.program,"program");return e.children=e.children.concat(this.dcls(this.input.children[0]),this.stmts(this.input.children[1])),e}},{key:"symbolTableOrError",value:function(e,t){var n=this.symbolTable.get(e);return n||(this.errorTable.add(t,"Variable '".concat(e,"' was not defined.")),null)}},{key:"dcls",value:function(e){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n];r.symbol==A.Dcls?t=t.concat(this.dcls(r)):r.symbol==A.Dcl&&t.push(this.dcl(r))}return t}},{key:"dcl",value:function(e){return e.children[0].token.type==P.floatdcl?new M(_.floatdcl,e.children[1].children[0].name):new M(_.intdcl,e.children[1].children[0].name)}},{key:"stmts",value:function(e){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n];r.symbol==A.Stmts?t=t.concat(this.stmts(r)):r.symbol==A.Stmt&&t.push(this.stmt(r))}return t}},{key:"stmt",value:function(e){var t=e.children[0].children[0].name;if(e.children[0].token.type==P.id){var n=this.symbolTableOrError(t,e.children[0].token);if(!n)return new M(_.error,"error");var r=new M(_.assign,I[n.type]),i=new M(_.id,t);return r.children=[i,this.expr(e.children[2],n.type)],r}return new M(_.print,t)}},{key:"convertType",value:function(e,t){var n=e.children[0].children[0].token.type,r=e.children[0].children[0].token.data,i=this.symbolTable.get(r);if(t==I.float&&(n==P.fnum||(null===i||void 0===i?void 0:i.type)==I.float))return new M(_.fnum,e.children[0].children[0].token.data);if(t==I.int&&(n==P.inum||(null===i||void 0===i?void 0:i.type)==I.int))return new M(_.inum,e.children[0].children[0].token.data);if(t==I.float&&(n==P.inum||(null===i||void 0===i?void 0:i.type)==I.int)){var l=new M(_.int2float,"float");return l.children.push(new M(_.inum,e.children[0].children[0].token.data)),l}this.errorTable.add(e.children[0].children[0].token,"Float can't be converted to integer");var s=new M(_.error,"error");return s.children.push(new M(_.fnum,e.children[0].children[0].token.data)),s}},{key:"expr",value:function(e,t){return 1==e.children.length?this.convertType(e,t):((n=e.children[1].token.type==P.plus?new M(_.plus,I[t]):new M(_.minus,I[t])).children.push(this.convertType(e,t),this.expr(e.children[2],t)),n);var n}}]),e}(),q=function e(t,n,r){Object(u.a)(this,e),this.symbolTable=void 0,this.errorTable=void 0,this.parseTree=void 0,this.ast=void 0,this.symbolTable=n,this.errorTable=r,this.parseTree=new J(t,this.symbolTable,this.errorTable).run(),this.ast=new R(this.parseTree,this.symbolTable,this.errorTable).run()},$=function e(t,n){Object(u.a)(this,e),this.regex=void 0,this.tokenType=void 0,this.regex=t,this.tokenType=n},B=function(){function e(t,n,r){Object(u.a)(this,e),this.input=void 0,this.symbolTable=void 0,this.errorTable=void 0,this.lexDefinition={floatDcl:new $(/^f/,P.floatdcl),intDcl:new $(/^i/,P.intdcl),print:new $(/^p/,P.print),id:new $(/^([a-e]|[g-h]|[j-o]|[q-z])/,P.id),assign:new $(/^=/,P.assign),plus:new $(/^\+/,P.plus),minus:new $(/^-/,P.minus),fNum:new $(/^[0-9]+\.[0-9]+/,P.fnum),iNum:new $(/^[0-9]+/,P.inum),blank:new $(/^( |\t)+/,P.blank),newLine:new $(/^(\r\n|\n|\r)/,P.newline)},this.output=[],this.input=t,this.symbolTable=n,this.errorTable=r}return Object(E.a)(e,[{key:"test",value:function(e,t,n){for(var r in this.lexDefinition){var i=this.lexDefinition[r].regex.exec(e);if(null!=i)return new V(this.lexDefinition[r].tokenType,i[0],t,t+i[0].length,n)}return null}},{key:"run",value:function(){for(var e=this.input,t=0,n=0;e.length>0;){var r=this.test(e,t,n);if(null==r){!0;var i=0,l="",s=null;do{i+=1,l+=e[0],t+=1,e=e.substr(1),s=this.test(e,t,n)}while(null==s&&e.length>0);var a=new V(P.error,l,t-i,t,n);this.errorTable.add(a,'Token: "'+l+'" not recognized'),r=s,this.output.push(a)}else e=e.substr(r.data.length),t+=r.data.length,r.type==P.newline?(n+=1,t=0):r.type!=P.blank&&this.output.push(r)}return this.output.push(new V(P.eof,"",t,t,n)),this.output}}]),e}(),H=function(){function e(t,n){Object(u.a)(this,e),this.token=void 0,this.message=void 0,this.token=t,this.message=n}return Object(E.a)(e,[{key:"compareTo",value:function(e){return this.token.line<e.token.line&&this.token.start<e.token.start?-1:this.token.line==e.token.line&&this.token.start==e.token.start?0:1}},{key:"toString",value:function(){return"Token: "+this.token.toString()+" Message: "+this.message}}]),e}(),G=function(){function e(){Object(u.a)(this,e),this.errors=[],this.length=0}return Object(E.a)(e,[{key:"add",value:function(e,t){this.errors.push(new H(e,t)),this.length+=1}},{key:"sort",value:function(){this.errors.sort((function(e,t){return e.compareTo(t)}))}},{key:"toString",value:function(){if(0==this.length)return"No errors!";for(var e="ErrorTable { \n\tlength: ".concat(this.length,"\n\terrors:"),t=0;t<this.errors.length;t++)e+="\n\t\t ".concat(this.errors[t].toString());return e+"\n }"}}]),e}(),K=function e(t){Object(u.a)(this,e),this.errorTable=new G,this.symbolTable=new L,this.input=void 0,this.parser=void 0,this.input=t;var n=new B(this.input,this.symbolTable,this.errorTable).run();this.parser=new q(n,this.symbolTable,this.errorTable)};n(146);var Q=function(){return Object(m.jsx)("div",{id:"Loader",children:Object(m.jsx)(y.Preloader,{active:!0,color:"blue",flashing:!0})})};var U=function(){var e=i.a.useState(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],l=i.a.useState("fbiaa=5b=a+3.2pb"),s=Object(a.a)(l,2),c=s[0],o=s[1],u=i.a.useState(new K("fbiaa=5b=a+3.2pb")),h=Object(a.a)(u,2),d=h[0],b=h[1];return Object(m.jsxs)("div",{className:"App",children:[n&&Object(m.jsx)(Q,{}),Object(m.jsx)(g,{exec:function(){r(!0),b(new K(c)),r(!1)},uploadCode:function(e){var t=new FileReader;t.onloadend=function(e){t.result?o(t.result.toString()):o("")},t.readAsText(e.target.files[0])}}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col s12 m6",children:Object(m.jsx)(j,{code:c,setCode:o})}),Object(m.jsx)("div",{className:"col s12 m6",children:Object(m.jsx)(C,{compiler:d})})]})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,l=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),l(e),s(e)}))};s.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(U,{})}),document.getElementById("root")),W()},85:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){}},[[147,1,2]]]);
//# sourceMappingURL=main.3d28723f.chunk.js.map